{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","Filter","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNewName","newNumber","handleNewNumber","type","Notification","message","className","ErrorNotification","App","useState","persons","setPersons","setNewName","searchedName","setSearchedName","setNewNumber","addedMessage","setAddedMessage","errorMessage","setErrorMessage","useEffect","personService","then","response","data","numbersToShow","filter","person","name","toLowerCase","includes","event","target","preventDefault","map","window","confirm","alreadyAddedperson","find","p","id_addedPerson","id","changedPerson","number","put","setTimeout","catch","error","personObject","concat","onClick","delete","console","log","newPersons","handleDeleteButton","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41da2d24.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\n\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create}","import React from 'react'\r\n\r\nfunction Filter({value,onChange}) {\r\n    return (\r\n        <div>\r\n            <strong>Filter Shown with : </strong><input value={value} onChange={onChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nfunction PersonForm(props) {\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n        <div>\r\n          <div><strong>Name: </strong><input value={props.newName} onChange={props.handleNewName}/></div>\r\n          <div><strong>Number: </strong><input value={props.newNumber} onChange={props.handleNewNumber}/></div>\r\n          <div><button type=\"submit\"><strong>Add</strong></button></div>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n\r\n      ","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"added\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification\r\n","import React from 'react'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default ErrorNotification\r\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Notification from './components/Notification';\nimport ErrorNotification from './components/ErrorNotification';\nimport axios from 'axios';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ searchedName, setSearchedName ] = useState('')\n  const [ newNumber,setNewNumber] = useState('')\n  const [addedMessage, setAddedMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => { \n    personService\n      .getAll()\n      .then(response => {       \n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personName = persons.map(person=>person.name)\n    if(personName.includes(newName)){\n      \n      if (window.confirm(`${newName} is already added to phonebook replace the old number with the new one`))\n      {\n        const alreadyAddedperson =  persons.find(p => p.name === newName);\n        const id_addedPerson = alreadyAddedperson.id\n        const changedPerson = {...alreadyAddedperson,number:newNumber}\n\n        axios.put(`http://localhost:3001/persons/${id_addedPerson}`, changedPerson).then(response => {\n          setPersons(persons.map(p => p.id !== id_addedPerson ? p : response.data))\n          setNewName('')\n          setNewNumber('')\n          setAddedMessage(\n            `Added ${alreadyAddedperson.name}`\n          )\n          setTimeout(() => {\n            setAddedMessage(null)\n          }, 5000)\n          \n        })\n        .catch(error => {\n          setErrorMessage(\n            `${alreadyAddedperson.name} was already removed from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(p => p.id !== id_addedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n\n      }\n      \n    }else{\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setAddedMessage(\n            `Added ${personObject.name}`\n          )\n          setTimeout(() => {\n            setAddedMessage(null)\n          }, 5000)\n        })\n      \n    }\n  }\n\n  \n\n  const handleNewName = (event) => {setNewName(event.target.value)}\n\n  const handleSearchedName = (event) => {setSearchedName(event.target.value)}\n\n  const handleNewNumber = (event) => {setNewNumber(event.target.value)}\n\n  const handleDeleteButton = (id) => {\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      axios.delete(`http://localhost:3001/persons/${id}`)\n        .then(response => {   \n          console.log(response.data);\n          const newPersons = persons.filter(p=>p.id!==id)     \n          setPersons(newPersons)\n      })\n    }\n    \n\n  }\n\n  const numbersToShow = searchedName ? persons.filter(person => person.name.toLowerCase().includes(searchedName.toLowerCase())) : persons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={addedMessage}/>\n      <ErrorNotification message={errorMessage}/>\n      <Filter value={searchedName} onChange={handleSearchedName} />\n      <h3>Add a new</h3>\n      <PersonForm persons={persons} setPersons={setPersons} addPerson={addPerson} newName={newName} handleNewName={handleNewName} newNumber={newNumber} handleNewNumber={handleNewNumber}/>\n      <h2>Numbers</h2>\n      <div>\n            {numbersToShow.map(person=>\n            <p key={person.name}>{person.name} {person.number} <button onClick={()=>handleDeleteButton(person.id)}>delete</button></p>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}